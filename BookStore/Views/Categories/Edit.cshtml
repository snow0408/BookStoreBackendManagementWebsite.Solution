@model BookStore.Models.ViewModels.CategoryVm

@{
    ViewBag.Title = "Edit";
}
<style>
.background-image {
    background-image: url('@Url.Content("~/images/InputBg.jpg")');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 100vh;
}
</style>

<div class="container-fluid background-image">
    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        <div class="row justify-content-center">
            <div class="col-xl-6">
                <div class="card">
                    <div class="card-body card-wrapper input-radius">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                        <div class="mb-3 m-form__group">
                            @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "form-label" })
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-book" style="color: #B197FC;"></i></span>
                                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                            </div>
                            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                        </div>

                        <div class="mb-3 m-form__group">
                            @Html.LabelFor(model => model.DisplayOrder, htmlAttributes: new { @class = "form-label" })
                            <div class="input-group">
                                <span class="input-group-text"><i class="fa-solid fa-list-ol" style="color: #B197FC;"></i></span>
                                @Html.EditorFor(model => model.DisplayOrder, new { htmlAttributes = new { @class = "form-control" } })
                            </div>
                            @Html.ValidationMessageFor(model => model.DisplayOrder, "", new { @class = "text-danger" })
                        </div>

                        <div class="mb-3">
                            <input type="submit" value="修改" class="btn btn-primary m-r-15" />
                            @Html.ActionLink("回到上一頁", "Index", null, new { @class = "btn btn-light" })
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

    @*
        <div>
            @Html.ActionLink("Back to List", "Index")
        </div>
    *@

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")

        <script>
            const btn = document.querySelector("#btnDelete")
            btn.addEventListener("click", () => {
                if (confirm("您確定要刪除此分類嗎")) {
                    let form = btn.closest("form");
                    form.action = "/Categories/Delete";
                    form.submit();
                }

            })
        </script>
    }
